<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>CSP Fill Up Form</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #f0f2f5;
      margin: 0;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
    }

    .container {
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      width: 100%;
      max-width: 800px;
      background-color: #fff;
      border-radius: 10px;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
      padding: 20px;
    }

    h1 {
      color: #1877f2;
      margin-bottom: 10px;
    }

    .form-section {
      display: none;
    }

    .form-section.active {
      display: block;
    }

    .form-section > h2 {
      margin-top: 0;
    }

    .form-group {
      margin-bottom: 15px;
    }

    label {
      font-weight: bold;
    }

    input,
    select {
      padding: 10px;
      border: 1px solid #ddd;
      border-radius: 5px;
      width: 100%;
    }

    .walk-in-message {
      margin-top: 10px;
      padding: 10px;
      background-color: #f9f9f9;
      border: 1px solid #ddd;
      border-radius: 5px;
    }

    .navigation-buttons {
      display: flex;
      justify-content: space-between;
      margin-top: 20px;
    }

    .navigation-buttons button {
      background-color: #1877f2;
      color: #fff;
      border: none;
      border-radius: 5px;
      padding: 10px 20px;
      cursor: pointer;
    }

    .navigation-buttons button:hover {
      background-color: #166fe5;
    }

    /* Table Styles */
    table {
      width: 100%;
      border-collapse: collapse;
    }

    th, td {
      border: 1px solid #ddd;
      padding: 8px;
    }

    th {
      background-color: #f2f2f2;
      font-weight: bold;
    }
  </style>
</head>
<body>
  <div class="container">
    <!-- Front Page Section -->
    <div class="front-page">
      <h1>Welcome to CSP</h1>
      <p>Please fill up the form below to proceed.</p>
      <div class="navigation-buttons">
        <button id="goToFormButton">Go to Fill Up Form</button>
      </div>
    </div>

    <!-- Form Section -->
    <div class="form-section" id="formSection">
      <h2>CSP Fill Up Form</h2>
      <form method="POST" onsubmit="return handleFormSubmission(event)">
        <!-- Add your email address as the recipient for form submission -->
        <input type="hidden" name="_cc" value="cspmanila@completesolutionpharmacy.com">
        <input type="hidden" name="_template" value="table">
                
        <div class="form-group">
          <label for="patientName">Name of the Patient:</label>
          <input type="text" id="patientName" name="patientName" oninput="convertToUppercase(this)" required>
        </div>

        <div class="form-group">
          <label for="patientAddress">Patient Address:</label>
          <input type="text" id="patientAddress" name="patientAddress" oninput="convertToUppercase(this)" required>
        </div>

        <div class="form-group">
          <label for="contactNumber">Contact Number:</label>
          <input type="tel" id="contactNumber" name="contactNumber" required>
        </div>

        <div class="form-group">
          <label for="EmailAddress">Email Address:</label>
          <input type="email" id="EmailAddress" name="EmailAddress" required>
        </div>

        <div class="form-group">
          <label for="hospitalName">Hospital Name:</label>
          <input type="text" id="hospitalName" name="hospitalName" oninput="convertToUppercase(this)" required>
        </div>

        <div class="form-group">
          <label for="doctorsName">Doctor's Name:</label>
          <input type="text" id="doctorsName" name="doctorsName" oninput="convertToUppercase(this)" required>
        </div>

        <div class="form-group">
          <label for="malasakit">Malasakit (OVP, OP, PCSO, DSWD, BACLARAN):</label>
          <select id="malasakit" name="malasakit" required onchange="showWalkInMessage(this)">
            <option value="">Select Malasakit</option>
            <option value="OVP">OVP</option>
            <option value="OP">OP</option>
            <option value="PCSO">PCSO</option>
            <option value="DSWD">DSWD</option>
            <option value="BACLARAN">BACLARAN</option>
          </select>
        </div>

        <!-- Additional div to display the walk-in appointment message -->
        <div class="walk-in-message" id="walkInMessage" style="display: none;">
          <p>ONLY WALK-INS WILL BE ALLOWED TO GIVE YOUR REQUEST FOR THE OP AND OVP QUOTATION</p>
        </div>

        <div class="form-group">
          <label for="attachment1">Patient ID:</label>
          <input type="file" id="attachment1" name="id_of_the_pt" placeholder="ID of the PT" required>
        </div>

        <div class="form-group">
          <label for="attachment2">Prescription:</label>
          <input type="file" id="attachment2" name="attachment" accept="image/png, image/jpeg" required>
        </div>

        <div class="navigation-buttons">
          <button type="button" id="goBackButton">Back</button>
          <button type="submit">Submit</button>
        </div>
      </form>
    </div>

    <!-- Submitted Data Table -->
    <div id="submittedDataTable" style="display: none;">
      <h2>Submitted Data</h2>
      <table id="dataTable">
        <thead>
          <tr>
            <th>Field</th>
            <th>Value</th>
          </tr>
        </thead>
        <tbody>
          <!-- Submitted form data will be inserted here dynamically -->
        </tbody>
      </table>
    </div>
  </div>

  <!-- JavaScript to convert input values to uppercase and handle navigation between sections -->
  <script>
    function convertToUppercase(input) {
      input.value = input.value.toUpperCase();
    }

    document.getElementById("goToFormButton").addEventListener("click", function() {
      document.querySelector(".front-page").style.display = "none";
      document.querySelector(".form-section").classList.add("active");
    });

    document.getElementById("goBackButton").addEventListener("click", function() {
      document.querySelector(".front-page").style.display = "block";
      document.querySelector(".form-section").classList.remove("active");
      document.getElementById("submittedDataTable").style.display = "none";
    });

    // Function to show/hide the walk-in appointment message
    function showWalkInMessage(selectElement) {
      const walkInMessage = document.getElementById("walkInMessage");
      const selectedOption = selectElement.value;
      if (selectedOption === "OVP" || selectedOption === "OP") {
        walkInMessage.style.display = "block";
      } else {
        walkInMessage.style.display = "none";
      }
    }

    // Function to handle form submission
    function handleFormSubmission(event) {
      event.preventDefault();
      const formData = new FormData(event.target);
      const submittedData = {};
      formData.forEach((value, key) => {
        submittedData[key] = value;
      });

      // Display submitted data in the table
      displaySubmittedData(submittedData);
      document.getElementById("formSection").style.display = "none";
      document.getElementById("submittedDataTable").style.display = "block";

      return false;
    }

    // Function to display submitted data in the table
    function displaySubmittedData(data) {
      const tableBody = document.querySelector("#dataTable tbody");
      tableBody.innerHTML = "";
      for (const key in data) {
        const row = document.createElement("tr");
        const fieldCell = document.createElement("td");
        const valueCell = document.createElement("td");
        fieldCell.textContent = key;
        valueCell.textContent = data[key];
        row.appendChild(fieldCell);
        row.appendChild(valueCell);
        tableBody.appendChild(row);
      }
    }
  </script>
</body>
</html>
